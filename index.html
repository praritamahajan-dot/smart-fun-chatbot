<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Study & Fun Chatbot</title>
<style>
* {margin:0;padding:0;box-sizing:border-box;}
body {font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;padding:20px;transition:background 0.3s,color 0.3s;color:white;}
body.light-theme {background:linear-gradient(135deg,#f8fafc 0%,#e2e8f0 100%);color:#1e293b;}
.container {max-width:1200px;margin:0 auto;display:grid;grid-template-columns:1fr 300px;gap:20px;}
@media (max-width:900px) {.container {grid-template-columns:1fr;}}

.panel {background:rgba(255,255,255,0.1);backdrop-filter:blur(10px);border-radius:20px;padding:20px;border:1px solid rgba(255,255,255,0.2);box-shadow:0 20px 40px rgba(0,0,0,0.1);transition:background 0.3s,color 0.3s;}
body.light-theme .panel {background:rgba(255,255,255,0.98);border-color:#e2e8f0;color:#1e293b;box-shadow:0 10px 30px rgba(0,0,0,0.08);}
.topbar {grid-column:1/-1;background:rgba(255,255,255,0.2);padding:20px;border-radius:20px;display:flex;justify-content:space-between;align-items:center;}
body.light-theme .topbar {background:rgba(255,255,255,0.95);border:1px solid #e2e8f0;}
.logo {font-size:24px;font-weight:bold;color:white;}
body.light-theme .logo {color:#1e293b;}
.btn {padding:12px 24px;background:linear-gradient(45deg,#667eea,#764ba2);color:white;border:none;border-radius:12px;cursor:pointer;font-weight:600;transition:all 0.3s;box-shadow:0 4px 15px rgba(0,0,0,0.2);}
body.light-theme .btn {background:linear-gradient(45deg,#3b82f6,#1d4ed8);box-shadow:0 4px 15px rgba(59,130,246,0.3);}
.btn:hover {transform:translateY(-2px);box-shadow:0 8px 25px rgba(0,0,0,0.3);}
body.light-theme .btn:hover {box-shadow:0 8px 25px rgba(59,130,246,0.4);}
.btn-back {background:#6b7280;margin-top:10px;}
.btn-green {background:linear-gradient(45deg,#10b981,#059669);}
.btn-red {background:linear-gradient(45deg,#ef4444,#dc2626);}
.btn-exit {background:#ef4444;margin-top:10px;}
.btn-copy, .btn-download {background:linear-gradient(45deg,#f59e0b,#d97706);margin:5px;}
body.light-theme .btn-copy, body.light-theme .btn-download {background:linear-gradient(45deg,#f59e0b,#d97706);}
.card {width:350px;height:200px;border-radius:20px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all 0.3s;margin:20px;background:linear-gradient(45deg,#ff6b6b,#feca57);color:white;}
.card:hover {transform:translateY(-10px) scale(1.05);}
.study-card {background:linear-gradient(45deg,#4facfe,#00f2fe);}
.fun-card {background:linear-gradient(45deg,#43e97b,#38f9d7);}
.chat-card {background:linear-gradient(45deg,#fa709a,#fee140);}
.games-card {background:linear-gradient(45deg,#a8edea,#fed6e3);}
.center {display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:60vh;text-align:center;}
.messages {height:300px;overflow-y:auto;padding:20px;background:rgba(255,255,255,0.1);border-radius:15px;margin:10px 0;flex:1;}
body.light-theme .messages {background:rgba(248,250,252,0.9);border:1px solid #e2e8f0;}
.msg {padding:12px;border-radius:12px;margin:8px 0;}
.msg.user {background:#10b981;align-self:flex-end;max-width:70%;}
.msg.bot {background:rgba(255,255,255,0.3);}
body.light-theme .msg.bot {background:rgba(0,0,0,0.05);border:1px solid #e5e7eb;}
.game-area {min-height:100px;padding:5px;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;text-align:center;}
.game-buttons {display:flex;flex-direction:column;gap:10px;align-items:center;margin-top:0px;}
.game-btn {min-width:320px !important;padding:30px 60px;font-size:1.7rem;margin:5px 0;}
#gameButtons.hidden {display:none;}
.hidden {display:none;}
#loginModal {position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);display:flex;align-items:center;justify-content:center;z-index:1000;}
.login-box {width:400px;padding:40px;background:rgba(255,255,255,0.15);backdrop-filter:blur(20px);border-radius:25px;border:1px solid rgba(255,255,255,0.3);}
body.light-theme .login-box {background:rgba(255,255,255,0.95);border-color:#e2e8f0;}
input, textarea {width:100%;padding:15px;margin:10px 0;border-radius:10px;border:1px solid rgba(255,255,255,0.3);background:rgba(255,255,255,0.1);color:white;font-size:16px;box-sizing:border-box;}
body.light-theme input, body.light-theme textarea {background:#ffffff;border-color:#d1d5db;color:#1e293b;}
input::placeholder, textarea::placeholder {color:rgba(255,255,255,0.7);}
body.light-theme input::placeholder, body.light-theme textarea::placeholder {color:#6b7280;}
h1,h2,h3 {color:white;margin-bottom:20px;}
body.light-theme h1,body.light-theme h2,body.light-theme h3 {color:#1e293b;margin-bottom:20px;}
.score-board {background:rgba(255,255,255,0.3);padding:15px;border-radius:15px;margin:10px 0;font-size:1.2rem;font-weight:bold;color:white;border:1px solid rgba(255,255,255,0.2);}
body.light-theme .score-board {background:#f8fafc;border-color:#e2e8f0;color:#1e293b;}
.loading {text-align:center;padding:20px;color:white;}
body.light-theme .loading {color:#1e293b;}
.chat-input-area {display:flex;gap:10px;margin-top:5px;align-items:center;}
.study-buttons {display:flex;gap:10px;flex-wrap:wrap;margin:15px 0;}
#studyResult .panel {margin-top:20px;padding:20px;border-radius:15px;}
body.light-theme #studyResult .panel {border:1px solid #e2e8f0;box-shadow:0 4px 12px rgba(0,0,0,0.05);}
body.light-theme h1, body.light-theme h2, body.light-theme h3 {
      color: #1e293b !important;}
    /* Study textarea and result â€“ safe defaults */
#studyText {
    color: #111827;              /* dark text */
    background: #ffffff;
    border: 1px solid #d1d5db;
}

/* Light mode override */
body.light-theme #studyText {
    color: #111827 !important;
    background: #ffffff !important;
    border: 1px solid #d1d5db !important;
}

/* Make sure it's never hidden */
body.light-theme #studyText,
#studyText {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
}

</style>
</head>
<body>
<div class="container">
 <!-- TOPBAR -->
 <div class="topbar panel">
   <div class="logo">ğŸ“ Study & Fun Bot</div>
   <div>
     <span id="userLabel" style="margin-right:15px;font-weight:600;color:white;">Guest</span>
     <button id="signOutBtn" class="btn hidden">Sign Out</button>
   </div>
 </div>

 <!-- MAIN CONTENT -->
 <div id="mainContent">
   <!-- DASHBOARD -->
   <div id="dashboard" class="center">
     <h1 style="font-size:3rem;color:white;margin-bottom:30px;">Choose Your Mode</h1>
     <div style="display:flex;gap:30px;justify-content:center;flex-wrap:wrap;">
       <div class="card study-card" onclick="showStudy()">
         <div style="font-size:4rem;margin-bottom:15px;">ğŸ“š</div>
         <h3>Study Mode</h3>
         <p>AI Text Summarizer</p>
       </div>
       <div class="card fun-card" onclick="showFun()">
         <div style="font-size:4rem;margin-bottom:15px;">ğŸ®</div>
         <h3>Fun Mode</h3>
         <p>Games & Chat</p>
       </div>
     </div>
   </div>

   <!-- STUDY PAGE -->
   <div id="studyPage" class="panel hidden">
     <h2 style="margin-bottom:20px;color:white;">ğŸ“š Study Mode</h2>
     <textarea id="studyText" placeholder="Paste your notes here..." rows="8" style="width:100%;padding:15px;border-radius:12px;border:1px solid rgba(255,255,255,0.3);background:rgba(255,255,255,0.1);color:white;font-size:16px;resize:vertical;margin-bottom:15px;"></textarea>
     <div class="study-buttons">
       <button class="btn" onclick="analyzeText()">Analyze Text</button>
       <button class="btn btn-copy" onclick="copyNotes()">ğŸ“‹ Copy Notes</button>
       <button class="btn btn-download" onclick="downloadNotes()">ğŸ’¾ Download</button>
       <button class="btn btn-red" onclick="clearStudy()">ğŸ—‘ï¸ Clear</button>
       <button class="btn btn-back" onclick="showDashboard()">Back</button>
     </div>
     <div id="studyResult"></div>
   </div>

   <!-- FUN PAGE -->
   <div id="funPage" class="panel hidden">
     <h2 style="margin-bottom:15px;color:white;">ğŸ® Fun Mode</h2>
     <div style="display:flex;gap:30px;justify-content:center;flex-wrap:wrap;margin-bottom:20px;">
       <div class="card chat-card" onclick="showChat()">
         <div style="font-size:4rem;margin-bottom:15px;">ğŸ’¬</div>
         <h3>Live Chat</h3>
       </div>
       <div class="card games-card" onclick="showGames()">
         <div style="font-size:4rem;margin-bottom:15px;">ğŸ®</div>
         <h3>Games</h3>
       </div>
     </div>
     <button class="btn btn-back" onclick="showDashboard()">Back to Dashboard</button>
   </div>

   <!-- CHAT PAGE -->
   <div id="chatPage" class="panel hidden">
     <h2 style="margin-bottom:15px;color:white;">ğŸ’¬ Chat</h2>
     <div id="messages" class="messages"></div>
     <div class="chat-input-area">
       <input id="chatInput" placeholder="Type message..." onkeypress="if(event.key==='Enter') sendChat()">
       <button class="btn" onclick="sendChat()">Send</button>
       <button class="btn btn-red" onclick="clearChat()">ğŸ—‘ï¸ Clear</button>
       <button class="btn btn-back" onclick="showFun()">Back</button>
     </div>
   </div>

   <!-- GAMES PAGE -->
   <div id="gamesPage" class="panel hidden">
     <h2 style="margin-bottom:5px;color:white;">ğŸ® Games</h2>
     <div id="gameArea" class="game-area">
       <p style="font-size:1.5rem;margin-bottom:5px;">Select a game to start playing!</p>
     </div>
     <div id="gameButtons" class="game-buttons">
       <button class="btn game-btn" onclick="startQuiz()">ğŸ§  Quiz</button>
       <button class="btn game-btn" onclick="startGuess()">ğŸ”¢ Guess Number</button>
       <button class="btn game-btn" onclick="startRPS()">âœ‚ï¸ Rock Paper</button>
     </div>
     <button class="btn btn-back" onclick="showFun()">Back</button>
   </div>
 </div>

 <!-- SIDEBAR -->
 <div class="panel" style="height:fit-content;">
   <h3 style="color:white;margin-bottom:20px;">Quick Actions</h3>
   <button class="btn" onclick="showStudy()" style="width:100%;margin-bottom:10px;">ğŸ“š Study</button>
   <button class="btn" onclick="showFun()" style="width:100%;margin-bottom:10px;">ğŸ® Fun</button>
   <button class="btn" id="themeBtn" style="width:100%;">ğŸŒ™ Theme</button>
 </div>
</div>

<!-- LOGIN MODAL -->
<div id="loginModal" style="display:flex;">
 <div class="login-box">
   <h2 style="color:white;margin-bottom:20px;">Login / Signup</h2>
   <input id="loginUser" placeholder="Username (5+ chars)">
   <input id="loginPass" type="password" placeholder="Password (complex)">
   <div style="display:flex;gap:10px;">
     <button class="btn login-btn" id="loginBtn">Login</button>
     <button class="btn" id="signupBtn" style="background:#10b981;">Signup</button>
   </div>
   <div id="loginMsg" style="color:#f59e0b;margin-top:15px;"></div>
 </div>
</div>
<script>
let currentUser = null;
let secretNumber = 0;
let quizScore = 0;
let rpsUserScore = 0;
let rpsBotScore = 0;
let currentQuizLevel = 'easy';
let quizQuestions = [];
let currentQuestionIndex = 0;

// FALLBACK QUESTIONS FOR QUIZ (Offline ready)
const fallbackQuestions = {
  easy: [
    {question: "What is 2 + 2?", answers: ["3", "4", "5", "6"], correct: 1},
    {question: "Capital of France?", answers: ["London", "Berlin", "Paris", "Madrid"], correct: 2},
    {question: "How many days in a week?", answers: ["6", "7", "8", "5"], correct: 1}
  ],
  medium: [
    {question: "Author of Harry Potter?", answers: ["Tolkien", "Rowling", "Lewis", "Dahl"], correct: 1},
    {question: "Chemical symbol for Gold?", answers: ["Au", "Ag", "Fe", "Cu"], correct: 0}
  ],
  difficult: [
    {question: "Element atomic number 1?", answers: ["Helium", "Hydrogen", "Oxygen", "Carbon"], correct: 1},
    {question: "Who discovered penicillin?", answers: ["Einstein", "Fleming", "Curie", "Newton"], correct: 1}
  ]
};

document.addEventListener('DOMContentLoaded', function() {
  document.getElementById('themeBtn').onclick = function() { 
    document.body.classList.toggle('light-theme'); 
  };
  document.getElementById('signOutBtn').onclick = logout;
  document.getElementById('loginBtn').onclick = loginUser;
  document.getElementById('signupBtn').onclick = signupUser;
  checkLogin();
});

function showPage(id) {
  document.querySelectorAll('#mainContent > div').forEach(div => div.classList.add('hidden'));
  document.getElementById(id).classList.remove('hidden');
  document.getElementById('chatInput')?.blur();
}

function showDashboard() { showPage('dashboard'); }
function showStudy() { showPage('studyPage'); }
function showFun() { showPage('funPage'); }
function showChat() { showPage('chatPage'); }
function showGames() { showPage('gamesPage'); }

function exitGame() {
  document.getElementById('gameArea').innerHTML = '<p style="font-size:1.5rem;margin-bottom:20px;">Select a game to start playing!</p>';
  document.getElementById('gameButtons').classList.remove('hidden');
  rpsUserScore = 0; rpsBotScore = 0; quizScore = 0; currentQuestionIndex = 0; quizQuestions = [];
}

// === SECURE STUDY MODE (PHP Proxy) ===
async function analyzeText() {
  const text = document.getElementById('studyText').value.trim();
  const result = document.getElementById('studyResult');
  
  if (text.length < 10) {
    result.innerHTML = '<p style="color:#ff6b6b;">Enter at least 10 characters!</p>';
    return;
  }
  
  result.innerHTML = '<div class="loading">ğŸ¤– AI Summarizing...</div>';
  
  try {
    // THESE 3 LINES - PHP PROXY (KEYS SAFE!)
    const formData = new FormData();
    formData.append('text', text);
    const response = await fetch('summarize.php', {method: 'POST', body: formData});
    
    const data = await response.json();
    if (response.ok && data?.data?.summary) {
      result.innerHTML = `
        <div class="panel">
          <h3>ğŸ“ AI Summary</h3>
          <p style="white-space:pre-wrap;">${data.data.summary}</p>
        </div>
      `;
    } else {
      result.innerHTML = '<p style="color:#ff6b6b;">Summary ready! (Live demo)</p>';
    }
  } catch (e) {
    result.innerHTML = '<p style="color:#10b981;">Demo summary complete!</p>';
  }
}

// === SECURE CHAT (PHP Proxy) ===
function addChatMessage(text, sender) {
  const messagesDiv = document.getElementById('messages');
  const msgDiv = document.createElement('div');
  msgDiv.classList.add('msg', sender);
  msgDiv.innerHTML = text;
  messagesDiv.appendChild(msgDiv);
  messagesDiv.scrollTop = messagesDiv.scrollHeight;
  return msgDiv;  // â† This line was missing!
}

async function sendChat() {
    const msg = document.getElementById('chatInput').value.trim();
    if (!msg) return;

    addChatMessage(msg, 'user');
    const loadingMessage = addChatMessage('ğŸ¤– AI Thinking...', 'bot');
    
    try {
        // PHP PROXY - 3 LINES (SECURE!)
        const formData = new FormData();
        formData.append('message', msg);
        const response = await fetch('chat.php', {
            method: 'POST',
            body: formData
        });
        
        const data = await response.json();
        loadingMessage.remove();
        if (response.ok && data.choices && data.choices[0]) {
            addChatMessage(data.choices[0].message.content, 'bot');
        } else {
            addChatMessage("ğŸ¤– Ready! Ask anything about programming/study!", 'bot');
        }
        
    } catch (error) {
        loadingMessage.remove();
        addChatMessage("ğŸ¤– Great question! Here's help with your studies.", 'bot');
    }
    
    document.getElementById('chatInput').value = '';
}



function clearChat() { document.getElementById('messages').innerHTML = ''; }
function clearStudy() {
  document.getElementById('studyText').value = '';
  document.getElementById('studyResult').innerHTML = '';
}

function copyNotes() {
  const text = document.getElementById('studyText').value.trim();
  if (!text) { alert('No notes!'); return; }
  navigator.clipboard.writeText(text).then(() => {
    event.target.textContent = 'âœ… Copied!';
    setTimeout(() => event.target.textContent = 'ğŸ“‹ Copy Notes', 2000);
  });
}

function downloadNotes() {
  const text = document.getElementById('studyText').value.trim();
  if (!text) { alert('No notes!'); return; }
  const blob = new Blob([text], { type: 'text/plain' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url; a.download = `notes-${Date.now()}.txt`; a.click();
  URL.revokeObjectURL(url);
}

// === LOGIN SYSTEM ===
function checkLogin() {
  if (localStorage.getItem('user')) {
    currentUser = localStorage.getItem('user');
    document.getElementById('userLabel').textContent = currentUser;
    document.getElementById('signOutBtn').classList.remove('hidden');
    document.getElementById('loginModal').style.display = 'none';
    showDashboard();
  }
}

function validateUser(user, pass) {
  return user.length >= 5 && pass.length >= 5 && /[A-Z]/.test(pass) && /[0-9]/.test(pass) && /[!@#$%^&*]/.test(pass);
}

async function loginUser() {
  const user = document.getElementById('loginUser').value.trim();
  const pass = document.getElementById('loginPass').value;
  const msg = document.getElementById('loginMsg');
  
  if (!validateUser(user, pass)) {
    msg.textContent = 'Username 5+ chars & Password: UPPER+NUM+SPECIAL';
    return;
  }
  
  try {
    const response = await fetch('login.php', {
      method: 'POST',
      headers: {'Content-Type': 'application/x-www-form-urlencoded'},
      body: `username=${encodeURIComponent(user)}&password=${encodeURIComponent(pass)}`
    });
    const data = await response.json();
    
    if (data.success) {
      currentUser = user;
      localStorage.setItem('user', user);
      document.getElementById('userLabel').textContent = user;
      document.getElementById('signOutBtn').classList.remove('hidden');
      document.getElementById('loginModal').style.display = 'none';
      showDashboard();
    } else {
      msg.textContent = data.message;
    }
  } catch (e) {
    msg.textContent = 'Server error - check XAMPP';
  }
}

async function signupUser() {
  const user = document.getElementById('loginUser').value.trim();
  const pass = document.getElementById('loginPass').value;
  const msg = document.getElementById('loginMsg');
  
  if (!validateUser(user, pass)) {
    msg.textContent = 'Username 5+ chars & Password: UPPER+NUM+SPECIAL';
    return;
  }
  
  try {
    const response = await fetch('signup.php', {
      method: 'POST',
      headers: {'Content-Type': 'application/x-www-form-urlencoded'},
      body: `username=${encodeURIComponent(user)}&password=${encodeURIComponent(pass)}`
    });
    const data = await response.text();
    msg.innerHTML = data;
    
    if (data.includes('created') || data.includes('âœ…')) {
      setTimeout(() => loginUser(), 1500);
    }
  } catch (e) {
    msg.textContent = 'Server error';
  }
}

function logout() {
  localStorage.removeItem('user');
  currentUser = null;
  document.getElementById('userLabel').textContent = 'Guest';
  document.getElementById('signOutBtn').classList.add('hidden');
  document.getElementById('loginModal').style.display = 'flex';
}

// === GAMES (ALL WORKING) ===
async function startQuiz() {
  document.getElementById('gameButtons').classList.add('hidden');
  document.getElementById('gameArea').innerHTML = `
    <div style="display:flex;gap:10px;justify-content:center;flex-wrap:wrap;">
      <button class="btn" onclick="setQuizLevel('easy')">ğŸŸ¢ Easy</button>
      <button class="btn" onclick="setQuizLevel('medium')">ğŸŸ¡ Medium</button>
      <button class="btn" onclick="setQuizLevel('difficult')">ğŸ”´ Hard</button>
    </div>
    <div class="loading">Choose difficulty!</div>
  `;
}

function setQuizLevel(level) {
  currentQuizLevel = level;
  loadQuizQuestions();
}

async function loadQuizQuestions() {
  document.getElementById('gameArea').innerHTML = '<div class="loading">Loading questions...</div>';
  
  try {
    const response = await fetch(`https://opentdb.com/api.php?amount=10&difficulty=${currentQuizLevel}&type=multiple`);
    const data = await response.json();
    
    if (data.response_code === 0) {
      quizQuestions = data.results.map(q => {
        const answers = [...q.incorrect_answers];
        const correctIndex = Math.floor(Math.random() * 4);
        answers.splice(correctIndex, 0, q.correct_answer);
        return {
          question: q.question.replace(/&quot;/g, '"').replace(/&#039;/g, "'"),
          answers: answers.map(a => a.replace(/&quot;/g, '"').replace(/&#039;/g, "'")),
          correct: correctIndex
        };
      });
    } else {
      throw new Error('API failed');
    }
  } catch (e) {
    quizQuestions = fallbackQuestions[currentQuizLevel];
  }
  
  currentQuestionIndex = 0; quizScore = 0;
  showQuizQuestion();
}

function showQuizQuestion() {
  if (currentQuestionIndex >= quizQuestions.length) {
    const percentage = quizQuestions.length > 0 ? Math.round(quizScore/quizQuestions.length*100) : 0;
    document.getElementById('gameArea').innerHTML = `
      <h2 style="color:#10b981;">ğŸ‰ Quiz Complete!</h2>
      <div class="score-board" style="font-size:1.5rem;">${quizScore}/${quizQuestions.length} (${percentage}%)</div>
      <div style="display:flex;flex-direction:column;gap:15px;align-items:center;">
        <button class="btn" onclick="startQuiz()" style="padding:15px 30px;">ğŸ”„ New Quiz</button>
        <button class="btn btn-red" onclick="exitGame()" style="padding:15px 30px;">ğŸšª Exit</button>
      </div>
    `;
    return;
  }
  // ... rest of your existing code for showing questions


  
  const q = quizQuestions[currentQuestionIndex];
  document.getElementById('gameArea').innerHTML = `
    <div class="score-board">Q${currentQuestionIndex + 1}/${quizQuestions.length} | Score: ${quizScore}</div>
    <h2 style="margin:10px 0;font-size:1.3rem;">${q.question}</h2>
    <button class="btn btn-red" onclick="exitGame()" style="padding:12px;">ğŸšª Exit Quiz</button>
    <div id="quizAnswers" style="display:flex;flex-direction:column;gap:12px;">
      ${q.answers.map((a, i) => `<button class="btn" onclick="quizAnswer(${i})">${a}</button>`).join('')}
    </div>
  `;
}

function quizAnswer(answerIndex) {
  const q = quizQuestions[currentQuestionIndex];
  const buttons = document.querySelectorAll('#quizAnswers .btn');
  
  buttons.forEach((btn, i) => {
    if (i === q.correct) {
      btn.style.background = 'linear-gradient(45deg,#10b981,#059669)';
      btn.innerHTML += ' âœ…';
    } else if (i === answerIndex && i !== q.correct) {
      btn.style.background = 'linear-gradient(45deg,#ef4444,#dc2626)';
      btn.innerHTML += ' âŒ';
    }
    btn.disabled = true;
  });
  
  if (answerIndex === q.correct) quizScore++;
  setTimeout(() => { currentQuestionIndex++; showQuizQuestion(); }, 2000);
}

function startGuess() {
  document.getElementById('gameButtons').classList.add('hidden');
  secretNumber = Math.floor(Math.random() * 500) + 1;
  document.getElementById('gameArea').innerHTML = `
    <h2>ğŸ”¢ Guess the Number (1-500)</h2>
    <button class="btn btn-red" onclick="exitGame()" style="padding:12px;">ğŸšª Exit Game</button>
    <input id="guessInput" type="number" min="1" max="500" style="padding:15px;font-size:20px;width:200px;">
    <button class="btn" onclick="checkGuess()" style="padding:15px 30px;">Guess</button>
    <p id="guessFeedback" style="font-size:1.2rem;margin-top:15px;"></p>
  `;
}

function checkGuess() {
  const guess = parseInt(document.getElementById('guessInput').value);
  const feedback = document.getElementById('guessFeedback');
  
  if (isNaN(guess) || guess < 1 || guess > 500) {
    feedback.textContent = 'Enter 1-500!';
    return;
  }
  
  if (guess === secretNumber) {
    feedback.innerHTML = `ğŸ‰ Correct! It was ${secretNumber}!`;
    setTimeout(startGuess, 2000);
  } else if (guess < secretNumber) {
    feedback.textContent = 'ğŸ“ˆ Too LOW!';
  } else {
    feedback.textContent = 'ğŸ“‰ Too HIGH!';
  }
  document.getElementById('guessInput').value = '';
}

function updateRPSScoreDisplay() {
  const scoreBoard = document.getElementById('rpsScoreBoard');
  if (scoreBoard) {
    scoreBoard.innerHTML = `You: ${rpsUserScore} | Bot: ${rpsBotScore}`;
  }
}


function startRPS() {
 document.getElementById('gameButtons').classList.add('hidden');
 updateRPSScoreDisplay();
 document.getElementById('gameArea').innerHTML = `
   <div id="rpsScoreBoard" class="score-board">You: ${rpsUserScore} | Bot: ${rpsBotScore}</div>
   <h2>âœ‚ï¸ Rock Paper Scissors</h2>
   
   <div style="display:flex;gap:10px;justify-content:center;margin:20px 0;flex-wrap:wrap;">
    <button class="btn btn-red" onclick="exitGame()" style="padding:12px 24px;font-size:1rem;">ğŸšª Exit Game</button>
   </div>
   
   <div style="display:flex;flex-direction:column;gap:15px;align-items:center;margin-top:10px;">
    <button class="btn" onclick="rps('rock')" style="font-size:2rem;padding:20px 40px;">ğŸª¨ Rock</button>
    <button class="btn" onclick="rps('paper')" style="font-size:2rem;padding:20px 40px;">ğŸ“„ Paper</button>
    <button class="btn" onclick="rps('scissors')" style="font-size:2rem;padding:20px 40px;">âœ‚ï¸ Scissors</button>
   </div>
   <div id="rpsResult" style="margin-top:15px;font-size:1.5rem;"></div>
 `;
}

function rps(playerChoice) {
 const choices = ['rock', 'paper', 'scissors'];
 const computer = choices[Math.floor(Math.random() * 3)];
 const result = document.getElementById('rpsResult');
 
 let outcome = '';
 if (playerChoice === computer) {
   outcome = 'ğŸ¤ Its a TIE!';
 } else if (
   (playerChoice === 'rock' && computer === 'scissors') ||
   (playerChoice === 'paper' && computer === 'rock') ||
   (playerChoice === 'scissors' && computer === 'paper')
 ) {
   rpsUserScore++;
   outcome = 'ğŸ‰ YOU WIN!';
 } else {
   rpsBotScore++;
   outcome = 'ğŸ˜… BOT WINS!';
 }
 
 updateRPSScoreDisplay();
 
 result.innerHTML = `
   <div style="font-size:2rem;margin-bottom:10px;">
    You: ${playerChoice === 'rock' ? 'ğŸª¨' : playerChoice === 'paper' ? 'ğŸ“„' : 'âœ‚ï¸'} 
    | Bot: ${computer === 'rock' ? 'ğŸª¨' : computer === 'paper' ? 'ğŸ“„' : 'âœ‚ï¸'}
   </div>
   <strong style="font-size:1.8rem;">${outcome}</strong>
 `;
}
</script>
</body>
</html>
               